"use strict";(self.webpackChunkghichu_new=self.webpackChunkghichu_new||[]).push([[1203],{8597:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>h,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"Javascript/Basic/Async/Promise","title":"Promises","description":"JavaScript Promises","source":"@site/docs/web/Javascript/Basic/Async/Promise.md","sourceDirName":"Javascript/Basic/Async","slug":"/Javascript/Basic/Async/Promise","permalink":"/documents/web/Javascript/Basic/Async/Promise","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/web/Javascript/Basic/Async/Promise.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Synchronous and Asynchronous","permalink":"/documents/web/Javascript/Basic/Async/"},"next":{"title":"Callbacks","permalink":"/documents/web/Javascript/Basic/Async/callbacks"}}');var c=s(4848),i=s(8453);const t={},l="Promises",h={},o=[{value:"JavaScript Promises",id:"javascript-promises",level:2},{value:"C\xe1c tr\u1ea1ng th\xe1i c\u1ee7a Promise",id:"c\xe1c-tr\u1ea1ng-th\xe1i-c\u1ee7a-promise",level:3},{value:"C\xe1ch t\u1ea1o m\u1ed9t Promise",id:"c\xe1ch-t\u1ea1o-m\u1ed9t-promise",level:3},{value:"Promise Chain",id:"promise-chain",level:3},{value:"Promise.all",id:"promiseall",level:3}];function a(n){const e={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"promises",children:"Promises"})}),"\n",(0,c.jsx)(e.h2,{id:"javascript-promises",children:"JavaScript Promises"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:["Trong JavaScript, ",(0,c.jsx)(e.strong,{children:"Promise"})," l\xe0 m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng \u0111\u1ea1i di\u1ec7n cho m\u1ed9t gi\xe1 tr\u1ecb c\xf3 th\u1ec3 c\xf3 s\u1eb5n ngay l\u1eadp t\u1ee9c, trong t\u01b0\u01a1ng lai ho\u1eb7c kh\xf4ng bao gi\u1edd c\xf3."]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"Promise gi\xfap x\u1eed l\xfd c\xe1c t\xe1c v\u1ee5 b\u1ea5t \u0111\u1ed3ng b\u1ed9, nh\u01b0 y\xeau c\u1ea7u HTTP, m\u1ed9t c\xe1ch r\xf5 r\xe0ng v\xe0 d\u1ec5 hi\u1ec3u h\u01a1n so v\u1edbi vi\u1ec7c s\u1eed d\u1ee5ng callback."}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.em,{children:(0,c.jsx)(e.strong,{children:"Promise"})})," l\xe0 m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng \u0111\u1ea1i di\u1ec7n cho qu\xe1 tr\xecnh x\u1eed l\xfd m\u1ed9t t\xe1c v\u1ee5 b\u1ea5t \u0111\u1ed3ng b\u1ed9, v\xe0 cho ph\xe9p th\u1ef1c hi\u1ec7n c\xe1c thao t\xe1c khi t\xe1c v\u1ee5 \u0111\xf3 ho\xe0n th\xe0nh ho\u1eb7c th\u1ea5t b\u1ea1i."]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"c\xe1c-tr\u1ea1ng-th\xe1i-c\u1ee7a-promise",children:"C\xe1c tr\u1ea1ng th\xe1i c\u1ee7a Promise"}),"\n",(0,c.jsxs)(e.ol,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Pending (Ch\u1edd x\u1eed l\xfd)"}),": Tr\u1ea1ng th\xe1i ban \u0111\u1ea7u, khi Promise ch\u01b0a \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft (\u0111ang ch\u1edd k\u1ebft qu\u1ea3)."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Fulfilled (Ho\xe0n th\xe0nh)"}),": Promise \u0111\xe3 ho\xe0n th\xe0nh th\xe0nh c\xf4ng, v\xe0 tr\u1ea3 v\u1ec1 gi\xe1 tr\u1ecb."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Rejected (Th\u1ea5t b\u1ea1i)"}),": Promise \u0111\xe3 ho\xe0n th\xe0nh v\u1edbi m\u1ed9t l\u1ed7i ho\u1eb7c k\u1ebft qu\u1ea3 kh\xf4ng nh\u01b0 mong mu\u1ed1n."]}),"\n"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"c\xe1ch-t\u1ea1o-m\u1ed9t-promise",children:"C\xe1ch t\u1ea1o m\u1ed9t Promise"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:["M\u1ed9t Promise \u0111\u01b0\u1ee3c t\u1ea1o ra b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng t\u1eeb kh\xf3a ",(0,c.jsx)(e.code,{children:"new Promise()"}),", v\xe0 truy\u1ec1n v\xe0o m\u1ed9t h\xe0m ",(0,c.jsx)(e.strong,{children:"executor"})," v\u1edbi hai tham s\u1ed1 l\xe0 ",(0,c.jsx)(e.code,{children:"resolve"})," v\xe0 ",(0,c.jsx)(e.code,{children:"reject"}),"."]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"resolve"}),":"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:["H\xe0m resolve l\xe0 m\u1ed9t h\xe0m ",(0,c.jsx)(e.code,{children:"callback"})," \u0111\u01b0\u1ee3c g\u1ecdi khi t\xe1c v\u1ee5 b\u1ea5t \u0111\u1ed3ng b\u1ed9 ho\xe0n th\xe0nh th\xe0nh c\xf4ng.\nKhi b\u1ea1n g\u1ecdi ",(0,c.jsx)(e.code,{children:"resolve(value)"}),", n\xf3 s\u1ebd chuy\u1ec3n tr\u1ea1ng th\xe1i c\u1ee7a Promise t\u1eeb ",(0,c.jsx)(e.code,{children:"Pending"})," sang ",(0,c.jsx)(e.code,{children:"Fulfilled"}),". Gi\xe1 tr\u1ecb value trong ",(0,c.jsx)(e.code,{children:"resolve(value)"})," s\u1ebd \u0111\u01b0\u1ee3c truy\u1ec1n v\xe0o ",(0,c.jsx)(e.code,{children:".then()"})," \u1edf c\xe1c b\u01b0\u1edbc sau \u0111\u1ec3 x\u1eed l\xfd."]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"V\xed d\u1ee5"}),":"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-javascript",children:'const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n        resolve("Th\xe0nh c\xf4ng!");  // Khi ho\xe0n th\xe0nh th\xe0nh c\xf4ng, g\u1ecdi resolve\n    }, 1000);\n});\n\npromise.then(result => {\n    console.log(result); // K\u1ebft qu\u1ea3: "Th\xe0nh c\xf4ng!"\n});\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"reject"}),":"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:["H\xe0m ",(0,c.jsx)(e.code,{children:"reject"})," l\xe0 m\u1ed9t h\xe0m ",(0,c.jsx)(e.code,{children:"callback"})," \u0111\u01b0\u1ee3c g\u1ecdi khi t\xe1c v\u1ee5 g\u1eb7p l\u1ed7i ho\u1eb7c th\u1ea5t b\u1ea1i.\nKhi b\u1ea1n g\u1ecdi ",(0,c.jsx)(e.code,{children:"reject(error)"}),", tr\u1ea1ng th\xe1i c\u1ee7a Promise s\u1ebd chuy\u1ec3n t\u1eeb ",(0,c.jsx)(e.code,{children:"Pending"})," sang ",(0,c.jsx)(e.code,{children:"Rejected"})," v\xe0 gi\xe1 tr\u1ecb error s\u1ebd \u0111\u01b0\u1ee3c truy\u1ec1n v\xe0o ",(0,c.jsx)(e.code,{children:".catch()"})," \u0111\u1ec3 x\u1eed l\xfd l\u1ed7i."]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"V\xed d\u1ee5"}),":"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-javascript",children:'const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n        reject("C\xf3 l\u1ed7i x\u1ea3y ra!");  // Khi g\u1eb7p l\u1ed7i, g\u1ecdi reject\n    }, 1000);\n});\n\npromise\n    .then(result => {\n        console.log(result);\n    })\n    .catch(error => {\n        console.error(error); // K\u1ebft qu\u1ea3: "C\xf3 l\u1ed7i x\u1ea3y ra!"\n    });\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"V\xed d\u1ee5 s\u1eed d\u1ee5ng resolve v\xe0 reject trong m\u1ed9t t\xe1c v\u1ee5"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:["Gi\u1ea3 s\u1eed b\u1ea1n c\xf3 m\u1ed9t h\xe0m ",(0,c.jsx)(e.code,{children:"checkNumber"})," \u0111\u1ec3 ki\u1ec3m tra n\u1ebfu m\u1ed9t s\u1ed1 l\xe0 ch\u1eb5n hay l\u1ebb. N\u1ebfu s\u1ed1 l\xe0 ch\u1eb5n, Promise s\u1ebd ho\xe0n th\xe0nh th\xe0nh c\xf4ng (g\u1ecdi resolve), c\xf2n n\u1ebfu l\xe0 l\u1ebb, Promise s\u1ebd b\u1ecb t\u1eeb ch\u1ed1i (g\u1ecdi reject)."]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-javascript",children:'function checkNumber(number) {\n    return new Promise((resolve, reject) => {\n        if (number % 2 === 0) {\n            resolve("S\u1ed1 l\xe0 ch\u1eb5n"); // K\u1ebft qu\u1ea3 th\xe0nh c\xf4ng\n        } else {\n            reject("S\u1ed1 l\xe0 l\u1ebb");   // K\u1ebft qu\u1ea3 th\u1ea5t b\u1ea1i\n        }\n    });\n}\n\ncheckNumber(4)\n    .then(result => console.log(result))    // K\u1ebft qu\u1ea3: "S\u1ed1 l\xe0 ch\u1eb5n"\n    .catch(error => console.error(error)); // N\u1ebfu l\xe0 l\u1ebb, s\u1ebd v\xe0o catch\n'})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Gi\u1ea3i th\xedch"}),":","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:'Khi checkNumber(4) \u0111\u01b0\u1ee3c g\u1ecdi, s\u1ed1 4 l\xe0 s\u1ed1 ch\u1eb5n, n\xean resolve s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi v\xe0 tr\u1ea3 v\u1ec1 "S\u1ed1 l\xe0 ch\u1eb5n".'}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.li,{children:'N\u1ebfu s\u1ed1 l\xe0 l\u1ebb, reject s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi v\xe0 tr\u1ea3 v\u1ec1 "S\u1ed1 l\xe0 l\u1ebb", v\xe0 catch s\u1ebd x\u1eed l\xfd th\xf4ng b\xe1o l\u1ed7i \u0111\xf3.'}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:["S\u1eed d\u1ee5ng ",(0,c.jsx)(e.code,{children:"then"})," v\xe0 ",(0,c.jsx)(e.code,{children:"catch"})," v\u1edbi ",(0,c.jsx)(e.strong,{children:"Promise"})]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:".then()"}),": \u0110\u01b0\u1ee3c g\u1ecdi khi Promise ho\xe0n th\xe0nh th\xe0nh c\xf4ng (fulfilled)."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:".catch()"}),": \u0110\u01b0\u1ee3c g\u1ecdi khi Promise th\u1ea5t b\u1ea1i (rejected)."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:".finally()"}),": \u0110\u01b0\u1ee3c g\u1ecdi sau khi Promise k\u1ebft th\xfac, b\u1ea5t k\u1ec3 th\xe0nh c\xf4ng hay th\u1ea5t b\u1ea1i."]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-javascript",children:'myPromise\n    .then(result => {\n        console.log(result); // In ra "T\xe1c v\u1ee5 ho\xe0n th\xe0nh th\xe0nh c\xf4ng!"\n    })\n    .catch(error => {\n        console.log(error); // In ra "T\xe1c v\u1ee5 th\u1ea5t b\u1ea1i." n\u1ebfu th\u1ea5t b\u1ea1i\n    })\n    .finally(() => {\n        console.log("Promise \u0111\xe3 k\u1ebft th\xfac."); // In ra b\u1ea5t k\u1ec3 k\u1ebft qu\u1ea3 l\xe0 th\xe0nh c\xf4ng hay th\u1ea5t b\u1ea1i\n    });\n'})}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"V\xed d\u1ee5 th\u1ef1c t\u1ebf v\u1edbi Promise"}),": Y\xeau c\u1ea7u API gi\u1ea3 l\u1eadp"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Gi\u1ea3 s\u1eed ch\xfang ta c\xf3 m\u1ed9t h\xe0m fetchData s\u1eed d\u1ee5ng Promise \u0111\u1ec3 m\xf4 ph\u1ecfng y\xeau c\u1ea7u d\u1eef li\u1ec7u t\u1eeb m\u1ed9t API."}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-javascript",children:'function fetchData() {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            const success = true;\n            if (success) {\n                resolve({ data: "D\u1eef li\u1ec7u \u0111\xe3 t\u1ea3i th\xe0nh c\xf4ng!" });\n            } else {\n                reject("L\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u.");\n            }\n        }, 2000);\n    });\n}\n\n// S\u1eed d\u1ee5ng Promise v\u1edbi `fetchData`\nfetchData()\n    .then(response => {\n        console.log(response.data); // In ra "D\u1eef li\u1ec7u \u0111\xe3 t\u1ea3i th\xe0nh c\xf4ng!" sau 2 gi\xe2y\n    })\n    .catch(error => {\n        console.log(error); // In ra "L\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u." n\u1ebfu th\u1ea5t b\u1ea1i\n    });\n'})}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"promise-chain",children:"Promise Chain"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"Khi c\u1ea7n th\u1ef1c hi\u1ec7n c\xe1c t\xe1c v\u1ee5 b\u1ea5t \u0111\u1ed3ng b\u1ed9 n\u1ed1i ti\u1ebfp nhau, ch\xfang ta c\xf3 th\u1ec3 chu\u1ed7i c\xe1c Promise b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng .then()."}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-javascript",children:'function step1() {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve("B\u01b0\u1edbc 1 ho\xe0n th\xe0nh"), 1000);\n    });\n}\n\nfunction step2() {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve("B\u01b0\u1edbc 2 ho\xe0n th\xe0nh"), 1000);\n    });\n}\n\nfunction step3() {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve("B\u01b0\u1edbc 3 ho\xe0n th\xe0nh"), 1000);\n    });\n}\n\n// Th\u1ef1c hi\u1ec7n c\xe1c b\u01b0\u1edbc theo chu\u1ed7i\nstep1()\n    .then(result => {\n        console.log(result);\n        return step2();\n    })\n    .then(result => {\n        console.log(result);\n        return step3();\n    })\n    .then(result => {\n        console.log(result);\n        console.log("T\u1ea5t c\u1ea3 c\xe1c b\u01b0\u1edbc \u0111\xe3 ho\xe0n th\xe0nh.");\n    });\n'})}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"promiseall",children:"Promise.all"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"Promise.all()"}),": Ch\u1ea1y nhi\u1ec1u Promise song song v\xe0 \u0111\u1ee3i cho \u0111\u1ebfn khi t\u1ea5t c\u1ea3 c\xe1c Promise ho\xe0n th\xe0nh. Tr\u1ea3 v\u1ec1 m\u1ed9t m\u1ea3ng k\u1ebft qu\u1ea3 c\u1ee7a c\xe1c Promise."]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-javascript",children:'let promise1 = Promise.resolve("K\u1ebft qu\u1ea3 1");\nlet promise2 = Promise.resolve("K\u1ebft qu\u1ea3 2");\nlet promise3 = Promise.resolve("K\u1ebft qu\u1ea3 3");\n\nPromise.all([promise1, promise2, promise3])\n    .then(results => {\n        console.log(results); // In ra ["K\u1ebft qu\u1ea3 1", "K\u1ebft qu\u1ea3 2", "K\u1ebft qu\u1ea3 3"]\n    })\n    .catch(error => {\n        console.log(error);\n    });\n'})}),"\n"]}),"\n"]})]})}function d(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(a,{...n})}):a(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>t,x:()=>l});var r=s(6540);const c={},i=r.createContext(c);function t(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:t(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);